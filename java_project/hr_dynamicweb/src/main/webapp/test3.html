<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib  uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HR Application System - Department Section</title>
  
  <link rel="stylesheet" type="text/css" href="resources/css/bootstrap-table.min.css"/>
  <link rel="stylesheet" type="text/css" href="./resources/css/main.css"/>
  <link rel="stylesheet" type="text/css" href="./resources/css/fullcalendar/main.css"/>
  <link rel="stylesheet" type="text/css" href="resources/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin="anonymous"/>
    
  <script src="./resources/js/fullcalendar/main.js"></script>
  <script src="resources/js/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" src="resources/js/FileSaver/FileSaver.min.js"></script>
  <script type="text/javascript" src="resources/js/jsPDF/polyfills.umd.min.js"></script>
  <script type="text/javascript" src="resources/js/jsPDF/jspdf.umd.min.js"></script>
  <script type="text/javascript" src="resources/js/html2canvas/html2canvas.min.js"></script>
  <script src="resources/js/tableExport.min.js"></script>
  <script src="./resources/js/bootstrap.bundle.min.js"></script>
  <script>
    /* document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      themeSystem: 'bootstrap4', */
      // initialView: 'dayGridMonth',
      // initialDate: '2022-03-12',
      /* selectable: true,
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      dateClick: function(info) {
        console.log(info.dateStr);
       info.dayEl.style.backgroundColor = 'blue';
      },
      select: function(info) {
        console.log('start: ' + info.startStr + ' end: ' + info.endStr);
        $("#calendar").calendar("unselect");
      }, */
      /* headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      displayEventEnd: true,
      allDay: false,
      nextDayThreshold: '00:00:00',
      eventDidMount: function (info) {
        $(info.el).tooltip({
          title: info.event.extendedProps.description,
          placement: 'auto',
          trigger: 'hover',
          container: 'body'
        });
      },
      eventClick: function(info) {
        console.log('Event: ' + info.event.title);
      },
      events: [
        {
          title: 'All Day Event',
          description: 'description for All Day Event',
          start: '2022-04-01'
        },
        {
          title: 'Long Event',
          description: 'description for Long Event',
          start: '2022-04-07T00:00:00.0',
          end: '2022-04-10T18:00:00.0',
          color: 'purple' // override!
        },
        {
          groupId: '999',
          title: 'Repeating Event',
          description: 'description for Repeating Event',
          start: '2022-04-16T16:00:00'
        },
        {
          title: 'Conference',
          description: 'description for Conference',
          start: '2022-04-12',
          end: '2022-04-13',
          color: 'purple' // override!
        },
        {
          title: 'Meeting',
          description: 'description for Meeting',
          start: '2022-04-12T10:30:00',
          end: '2022-04-12T12:30:00'
        },
        {
          title: 'Lunch',
          description: 'description for Lunch',
          start: '2022-04-12T12:00:00'
        },
        {
          title: 'Meeting',
          description: 'description for Meeting',
          start: '2022-04-12T14:30:00'
        },
        {
          title: 'Birthday Party',
          description: 'description for Birthday Party',
          start: '2022-04-13T07:00:00'
        },
        {
          title: 'Click for Google',
          description: 'description for Click for Google',
          url: 'http://google.com/',
          start: '2022-04-28'
        }
      ],
      eventColor: '#5CB3FF'
    });

      calendar.render();
    }); */


  document.addEventListener('DOMContentLoaded', function() {
	    var calendarEl = document.getElementById('calendar');

	    var calendar = new FullCalendar.Calendar(calendarEl, {
  	  headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
	      displayEventEnd: true,
	      allDay: true,
	      nextDayThreshold: '00:00:00',
	      eventDidMount: function (info) {
	            $(info.el).tooltip({
	                title: info.event.extendedProps.description,
	                placement: 'auto',
	                trigger: 'hover',
	                container: 'body'
	            });
	        },
	      eventClick: function(info) {
	          console.log('Event: ' + info.event.title + 'id: ' + info.event.id);
	      }, 
	      events: [{
  "id": 3,
  "title": "Principles of Maintaining Process and Maintenance",
  "description": "Info: Principles of Maintaining Process and Maintenance Issuer: Muhamad Azmi bin Qaafar Status: COMPLETED",
  "start": "2020-10-14 10:00:00.0",
  "end": "2020-10-16 12:00:00.0"
}, {
  "id": 4,
  "title": "test info",
  "description": "Info: test info Issuer: Khor Ming Guan Status: PENDING",
  "start": "2020-11-10 14:00:00.0",
  "end": "2020-11-15 16:00:00.0"
}, {
  "id": 6,
  "title": "test information",
  "description": "Info: test information Issuer: Khor Ming Guan Status: PENDING",
  "start": "2022-04-04 10:00:00.0",
  "end": "2022-04-08 18:00:00.0"
}],
	      eventColor: '#5CB3FF'
	    });

	    calendar.render();
	  });
  
  
  </script>
  <style>
    a{
      text-decoration: none;
      color: black;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 my-lg-0">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Employee Section
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-employee">Employee List</a></li>
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-promotion">Employee Promotion</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Salary Section
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-salary">Employee Salary</a></li>
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-payroll">Payroll Statements</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Utilities
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-leave">Leave Section</a></li>
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-loan">Loan Section</a></li>
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-resign">Resignation Section</a></li>
              <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/view-training">Training Section</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link d-lg-none d-xl-none d-xxl-none" href="${pageContext.request.contextPath}/v2/manager/profile">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-lg-none d-xl-none d-xxl-none" href="${pageContext.request.contextPath}/user-logout">Logout</a>
          </li>
        </ul>
      </div>
      <div class="btn-group float-right d-none d-lg-block">
        <img src="resources/images/user-solid.svg" class="profile-btn opacity-3" id="btnGroupDrop1" data-bs-toggle="dropdown" aria-expanded="false">
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="btnGroupDrop1">
            <li><p class="dropdown-item">${user.fullname}</p></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="${pageContext.request.contextPath}/v2/manager/profile"><img src="resources/images/info.svg" class="opacity-3">&nbsp;&nbsp;Profile</a></li>
            <li><a class="dropdown-item" href="${pageContext.request.contextPath}/user-logout"><img src="resources/images/log-out.svg" class="opacity-3">&nbsp;&nbsp;Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- <div class="container form-container">
  	<div class="row mb-2 mt-2">
      <h2 class="text-center">Loan Application Form</h2>
  	</div>
    <div class="row px-5">
      <hr>
      <form action="${pageContext.request.contextPath}/v2/employee/form/submit/submitLoan" method="POST">
        <div class="row mb-3">
          <div class="col-6">
            <label for="employee-name" class="col-form-label">Employee Name</label>
            <input type="text" class="form-control" id="employee-name" name="employee-name" value="${param.name}" readonly/>
          </div>    
        </div>
        <div class="row mb-3">
          <div class="col">
            <label for="reasons" class="col-form-label">Reasons</label>
            <input type="text" class="form-control" id="reasons" name="reasons"/>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-4">
            <label for="loan-amount" class="col-form-label">Loan Amount</label>
            <input type="number" class="form-control" id="loan-amount" name="loan-amount"/>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-4">
            <label for="start-date" class="col-form-label">Application Date</label>
            <input type="date" class="form-control" id="start-date" name="start-date" required/>
          </div>
        </div>
        <div class="row mb-3">
          <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg btn-width-2">Submit</button>
          </div>
        </div>     
      </form>
    </div>
  </div> -->

  <div class="container">
	  <div class="row mb-3 mt-2">
	  	<h3>Training Section</h3>
	  	<hr>
	  </div>
	  <div class="row">
	    <div id='calendar'></div>
	  </div> 
  </div>

  <script src="resources/js/bootstrap-table-locale-all.min.js"></script>
  <script src="resources/js/bootstrap-table-export.js"></script>
  <script src="resources/js/bootstrap-table.min.js"></script>
</body>
</html>